/* https://github.com/jsguy/kotools */
(function(e){e.debugModel=function(e,t){t=t||{};var n=t.quiet!==undefined?t.quiet:false;for(var r in e){if(e.hasOwnProperty(r)){if(e[r].subscribe){(function(e,r){r.subscribe(function(){var i=r();if(!n&&window.console&&console.dir&&console.groupCollapsed){console.groupCollapsed(e);console.dir(r);console.groupEnd();console.log(i)}if(typeof t.notify==="function"){t.notify(e,i,r)}})})(r,e[r])}}}return e};e.bindingHandlers.valueInit={init:function(t,n,r,i){var s=t.type.toUpperCase(),o=t.nodeName.toUpperCase()==="SELECT",u=s==="RADIO"||s==="CHECKBOX",a=n(),f,l=t.value,c=true;if(u){if(!t.checked){c=false}}else if(o){f=t.selectedIndex?t.options[t.selectedIndex]:"";l=f.value!==undefined&&f.value!==""?f.value:f.text}if(c){if(a.push){a.push(l)}else{a(l)}}if(u){e.bindingHandlers.checked.init(t,n,r,i)}else{e.bindingHandlers.value.init(t,n,r,i)}},update:function(t,n){var r=t.type.toUpperCase(),i=r==="RADIO"||r==="CHECKBOX";if(i){e.bindingHandlers.checked.update(t,n)}else{e.bindingHandlers.value.update(t,n)}}};e.bindingHandlers.checkedInit=e.bindingHandlers.valueInit;e.bindingHandlers.optionsInit={init:function(t,n,r){var i=t.nodeName.toUpperCase()==="SELECT",s=[],o=r(),u,a,f,l,c;if(i){for(f=0;f<t.options.length;f+=1){a=t.options[f];l=a.value!==undefined&&a.value!==""?a.value:a.text;c=""+a.text||a.value;s.push({value:l,name:c})}u=n();if(typeof u==="function"){n()(s)}else{if(window.console&&console.warn){console.warn('optionsInit needs an observableArray for the valueAccessor. Most likely you declared your "optionsInit: theOptions()", removed the brackets, so you get optionsInit: theOptions')}}var h=function(){var e=r();e["optionsText"]="name";e["optionsValue"]="value";return e};e.bindingHandlers.options.update(t,n,h)}else{if(window.console&&console.warn){console.warn("optionsInit works only with selectboxes")}}}}})(window.ko||{})