/* https://github.com/jsguy/kotools */
!function(e){e.debugModel=function(e,n){n=n||{};var o=void 0!==n.quiet?n.quiet:!1;for(var t in e)e.hasOwnProperty(t)&&e[t].subscribe&&!function(e,t){t.subscribe(function(){var i=t();!o&&window.console&&console.dir&&console.groupCollapsed&&(console.groupCollapsed(e),console.dir(t),console.groupEnd(),console.log(i)),"function"==typeof n.notify&&n.notify(e,i,t)})}(t,e[t]);return e},e.bindingHandlers.valueInit={init:function(n,o,t,i){var s,a=n.type.toUpperCase(),l="SELECT"===n.nodeName.toUpperCase(),d="RADIO"===a||"CHECKBOX"===a,u=o(),r=n.value,p=!0;d?n.checked||(p=!1):l&&(s=n.selectedIndex?n.options[n.selectedIndex]:"",r=void 0!==s.value&&""!==s.value?s.value:s.text),p&&(u.push?u.push(r):u(r)),d?e.bindingHandlers.checked.init(n,o,t,i):e.bindingHandlers.value.init(n,o,t,i)},update:function(n,o){var t=n.type.toUpperCase(),i="RADIO"===t||"CHECKBOX"===t;i?e.bindingHandlers.checked.update?e.bindingHandlers.checked.update.apply(this,arguments):e.utils.unwrapObservable(o()):e.bindingHandlers.value.update(n,o)}},e.bindingHandlers.checkedInit=e.bindingHandlers.valueInit,e.bindingHandlers.optionsInit={init:function(n,o,t){var i,s,a,l,d,u,r,p,c,v="SELECT"===n.nodeName.toUpperCase(),b=[],f=n.options[n.selectedIndex].value;if(v){for(l=0;l<n.options.length;l+=1){for(s=n.options[l],d=void 0!==s.value&&""!==s.value?s.value:s.text,u=""+s.text||s.value,a={value:d,name:u},c=0;c<s.attributes.length;c+=1)r=s.attributes.item(c),p=r.nodeName,0==p.indexOf("data-ko-")&&(p=p.substr(8),a[p]=r.nodeValue);b.push(a)}if(i=o(),"function"==typeof i)for(i(b),l=n.options.length-1;l>=0;l--)n.remove(l);else window.console&&console.warn('optionsInit needs an observableArray for the valueAccessor. Most likely you declared your "optionsInit: theOptions()" - remove the brackets, so you get optionsInit: theOptions');var g=t();g.optionsText="name",g.optionsValue="value",t(g),t.get=function(e){return"optionsText"==e?"name":"optionsValue"==e?"value":this[e]},e.bindingHandlers.options.update(n,o,t),n.value=f}else window.console&&console.warn("optionsInit works only with selectboxes")}}}(window.ko||{});
